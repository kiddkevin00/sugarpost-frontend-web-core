{"version":3,"sources":["../../../src/lib/server/app.js"],"names":["process","env","NODE_ENV","require","setupExpressServer","setupRoutes","packageJson","express","http","app","server","createServer","ip","IP_ADDRESS","config","port","PORT","PORT_NUMBER_HTTP","webServer","listen","console","log","address","get","module","exports"],"mappings":";;AAAA;;;;AAIAA,QAAQC,GAAR,CAAYC,QAAZ,GAAuBF,QAAQC,GAAR,CAAYC,QAAZ,IAAwB,aAA/C;;AAEA,IAAIF,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzCC,UAAQ,gBAAR;AACD;;AAED,IAAMC,qBAAqBD,QAAQ,kBAAR,CAA3B;AACA,IAAME,cAAcF,QAAQ,UAAR,CAApB;AACA,IAAMG,cAAcH,QAAQ,uBAAR,CAApB;AACA,IAAMI,UAAUJ,QAAQ,SAAR,CAAhB;AACA,IAAMK,OAAOL,QAAQ,MAAR,CAAb;;AAEA,IAAMM,MAAMF,SAAZ;AACA,IAAMG,SAASF,KAAKG,YAAL,CAAkBF,GAAlB,CAAf;;AAEA;;;AAGAL,mBAAmBK,GAAnB;AACAJ,YAAYI,GAAZ;;AAEA,IAAMG,KAAKZ,QAAQC,GAAR,CAAYY,UAAZ,IAA0BP,YAAYQ,MAAZ,CAAmBF,EAA7C,IAAmD,SAA9D;AACA,IAAMG,OAAOf,QAAQC,GAAR,CAAYe,IAAZ,IAAoBhB,QAAQC,GAAR,CAAYgB,gBAAhC,IAAoDX,YAAYQ,MAAZ,CAAmBC,IAApF;;AAEA,IAAMG,YAAYR,OAAOS,MAAP,CAAcJ,IAAd,EAAoBH,EAApB,EAAwB,YAAM;AAC9C;AACAQ,UAAQC,GAAR,CAAY,4DAAZ,EACEH,UAAUI,OAAV,GAAoBP,IADtB,EAEEG,UAAUI,OAAV,GAAoBA,OAFtB,EAE+Bb,IAAIc,GAAJ,CAAQ,KAAR,CAF/B;AAGD,CALiB,CAAlB;;AAOAC,OAAOC,OAAP,GAAiBA,UAAUhB,GAA3B","file":"app.js","sourcesContent":["/**\n * The process of the web application begins here - non-cluster mode.\n */\n\nprocess.env.NODE_ENV = process.env.NODE_ENV || 'development';\n\nif (process.env.NODE_ENV !== 'production') {\n  require('babel-register');\n}\n\nconst setupExpressServer = require('./express-server');\nconst setupRoutes = require('./routes');\nconst packageJson = require('../../../package.json');\nconst express = require('express');\nconst http = require('http');\n\nconst app = express();\nconst server = http.createServer(app);\n\n// Set default Node environment to \"development\".\n\n\nsetupExpressServer(app);\nsetupRoutes(app);\n\nconst ip = process.env.IP_ADDRESS || packageJson.config.ip || '0.0.0.0';\nconst port = process.env.PORT || process.env.PORT_NUMBER_HTTP || packageJson.config.port;\n\nconst webServer = server.listen(port, ip, () => {\n  // [TODO] Replace with logger module.\n  console.log('Express server listening on port: %d at IP: %s, in %s mode',\n    webServer.address().port,\n    webServer.address().address, app.get('env'));\n});\n\nmodule.exports = exports = app;\n"]}