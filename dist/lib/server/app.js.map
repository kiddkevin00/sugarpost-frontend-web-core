{"version":3,"sources":["../../../src/lib/server/app.js"],"names":["process","env","NODE_ENV","require","setupExpressServer","setupRoutes","packageJson","express","http","app","server","createServer","console","log","PORT","ip","IP_ADDRESS","config","port","PORT_NUMBER_HTTP","webServer","listen","address","get","exports","module"],"mappings":";;AAAA;;;;AAIAA,QAAQC,GAAR,CAAYC,QAAZ,GAAuBF,QAAQC,GAAR,CAAYC,QAAZ,IAAwB,aAA/C;;AAEA,IAAIF,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzCC,UAAQ,gBAAR;AACD;;AAED,IAAMC,qBAAqBD,QAAQ,kBAAR,CAA3B;AACA,IAAME,cAAcF,QAAQ,UAAR,CAApB;AACA,IAAMG,cAAcH,QAAQ,uBAAR,CAApB;AACA,IAAMI,UAAUJ,QAAQ,SAAR,CAAhB;AACA,IAAMK,OAAOL,QAAQ,MAAR,CAAb;;AAEA,IAAMM,MAAMF,SAAZ;AACA,IAAMG,SAASF,KAAKG,YAAL,CAAkBF,GAAlB,CAAf;;AAEA;;;AAGAL,mBAAmBK,GAAnB;AACAJ,YAAYI,GAAZ;;AAEAG,QAAQC,GAAR,CAAY,KAAZ,EAAmBb,QAAQC,GAAR,CAAYa,IAA/B;;AAEA,IAAMC,KAAKf,QAAQC,GAAR,CAAYe,UAAZ,IAA0BV,YAAYW,MAAZ,CAAmBF,EAAxD;AACA,IAAMG,OAAOlB,QAAQC,GAAR,CAAYa,IAAZ,IAAoBd,QAAQC,GAAR,CAAYkB,gBAAhC,IAAoDb,YAAYW,MAAZ,CAAmBC,IAApF;;AAEA,IAAME,YAAYV,OAAOW,MAAP,CAAcH,IAAd,EAAoBH,EAApB,EAAwB,YAAM;AAC9C;AACAH,UAAQC,GAAR,CAAY,4DAAZ,EACEO,UAAUE,OAAV,GAAoBJ,IADtB,EAEEE,UAAUE,OAAV,GAAoBA,OAFtB,EAE+Bb,IAAIc,GAAJ,CAAQ,KAAR,CAF/B;AAGD,CALiB,CAAlB;;AAOAC,QAAQf,GAAR,GAAcA,GAAd,CAAkBgB,OAAOD,OAAP,GAAiBA,UAAUf,GAA3B","file":"app.js","sourcesContent":["/**\n * The process of the web application begins here - non-cluster mode.\n */\n\nprocess.env.NODE_ENV = process.env.NODE_ENV || 'development';\n\nif (process.env.NODE_ENV !== 'production') {\n  require('babel-register');\n}\n\nconst setupExpressServer = require('./express-server');\nconst setupRoutes = require('./routes');\nconst packageJson = require('../../../package.json');\nconst express = require('express');\nconst http = require('http');\n\nconst app = express();\nconst server = http.createServer(app);\n\n// Set default Node environment to \"development\".\n\n\nsetupExpressServer(app);\nsetupRoutes(app);\n\nconsole.log('###', process.env.PORT)\n\nconst ip = process.env.IP_ADDRESS || packageJson.config.ip;\nconst port = process.env.PORT || process.env.PORT_NUMBER_HTTP || packageJson.config.port;\n\nconst webServer = server.listen(port, ip, () => {\n  // [TODO] Replace with logger module.\n  console.log('Express server listening on port: %d at IP: %s, in %s mode',\n    webServer.address().port,\n    webServer.address().address, app.get('env'));\n});\n\nexports.app = app;module.exports = exports = app;\n"]}